{"ast":null,"code":"import AsyncStorage from '@react-native-community/async-storage';\nexport var signup = function signup(user) {\n  return fetch(\"http://localhost:8000/api/signup\", {\n    method: \"POST\",\n    headers: {\n      Accept: 'application/json',\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(user)\n  }).then(function (response) {\n    return response.json();\n  }).catch(function (err) {\n    console.log(err);\n  });\n};\nexport var signin = function signin(user) {\n  return fetch(\"http://localhost:8000/api/signin\", {\n    method: \"POST\",\n    headers: {\n      Accept: 'application/json',\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(user)\n  }).then(function (response) {\n    return response.json();\n  }).catch(function (err) {\n    console.log(err);\n  });\n};\nexport var signout = function signout(next) {\n  if (typeof window !== 'undefined') {\n    AsyncStorage.removeItem('jwt');\n    next();\n    return fetch(\"http://localhost:8000/api/signout\", {\n      method: \"GET\"\n    }).then(function (response) {\n      console.log('signout', response);\n    }).catch(function (err) {\n      return console.log(err);\n    });\n  }\n};\nexport var authenticate = function authenticate(data, next) {\n  if (typeof global.window !== 'undefined') {\n    AsyncStorage.setItem('jwt', JSON.stringify(data));\n    next();\n  }\n};\nexport var isAuthenticated = function isAuthenticated() {\n  if (typeof global.window == 'undefined') {\n    return false;\n  }\n\n  if (AsyncStorage.getItem('jwt')) {\n    return AsyncStorage.getItem('jwt');\n  } else {\n    return false;\n  }\n};\nexport var auth = function auth(data) {\n  AsyncStorage.setItem('jwt', JSON.stringify(data)).then(function () {\n    console.log(data);\n  }).catch(function (error) {\n    console.log(error);\n  });\n};\nexport var islogedin = function islogedin() {\n  AsyncStorage.getItem('jwt').then(function (value) {\n    var user = JSON.parse(value);\n    Alert.alert(user.name + \" \" + user.gender + \" \" + user.age);\n  }).catch(function (error) {\n    console.log(error);\n  });\n};","map":{"version":3,"sources":["/Users/yosifriedman/Desktop/native-master/auth/index.js"],"names":["AsyncStorage","signup","user","fetch","method","headers","Accept","body","JSON","stringify","then","response","json","catch","err","console","log","signin","signout","next","window","removeItem","authenticate","data","global","setItem","isAuthenticated","getItem","auth","error","islogedin","value","parse","Alert","alert","name","gender","age"],"mappings":"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","sourcesContent":["\nimport AsyncStorage from '@react-native-community/async-storage';\nexport const signup = (user) => {\n    return fetch(`http://localhost:8000/api/signup`,{\n       method: \"POST\",\n       headers:{\n           Accept:'application/json',\n           \"Content-Type\": \"application/json\"\n       },\n       body: JSON.stringify(user)\n   })\n   .then(response => {\n       return response.json()\n   })\n   .catch(err => {\n       console.log(err)\n   })\n}\nexport const signin = (user) => {\n    return fetch(`http://localhost:8000/api/signin`,{\n       method: \"POST\",\n       headers:{\n           Accept:'application/json',\n           \"Content-Type\": \"application/json\"\n       },\n       body: JSON.stringify(user)\n   })\n   .then(response => {\n       return response.json()\n   })\n   .catch(err => {\n       console.log(err)\n   })\n}\nexport const signout = (next) => {\n    if(typeof window !== 'undefined') {\n        AsyncStorage.removeItem('jwt')\n        next();\n        return fetch(`http://localhost:8000/api/signout`, {\n            method: \"GET\",\n        })\n        .then(response => {\n            console.log('signout', response)\n        })\n        .catch(err => console.log(err));\n}\n}\n\nexport const authenticate = (data, next) => {\n    if(typeof global.window !== 'undefined') {\n        AsyncStorage.setItem('jwt', JSON.stringify(data))\n        next();\n    }\n}\nexport const isAuthenticated = () => {\n    if(typeof global.window == 'undefined') {\n        return false;\n    }\n    if(AsyncStorage.getItem('jwt')) {\n        return AsyncStorage.getItem('jwt');\n    } else {\n        return false;\n    }\n}\n\nexport const auth = (data) => {\n    AsyncStorage.setItem('jwt', JSON.stringify(data))\n.then(() => {\n  console.log(data);\n})\n.catch((error) => {\n  console.log(error);\n});\n}\nexport const islogedin = () => {\n    AsyncStorage.getItem('jwt')\n      .then((value) => {\n        const user = JSON.parse(value);\n        Alert.alert(`${user.name} ${user.gender} ${user.age}`);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n"]},"metadata":{},"sourceType":"module"}